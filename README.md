# Mail_Service-TG_Notifications

### –°–µ—Ä–≤–∏—Å —Ä–∞—Å—Å—ã–ª–∫–∏ Email –∏ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ –∏ –∫–æ–º–∞–Ω–¥

---

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–∏–Ω–∏-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–æ–≤—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ Email –∏ —á–µ—Ä–µ–∑ Telegram.  
–í—Å—è –ª–æ–≥–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ FastAPI, –∑–∞–¥–∞—á–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Celery —Å –±—Ä–æ–∫–µ—Ä–æ–º Redis. –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞–º–ø–∞–Ω–∏–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∫–∞–º–ø–∞–Ω–∏—è–º–∏, –∑–∞–¥–∞—á–∞–º–∏ —Ä–∞—Å—Å—ã–ª–∫–∏
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (FastAPI + SQLAlchemy + asyncpg)
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ email –∏ Telegram (–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–∞–Ω–∞–ª—ã)
- –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ Celery + Redis (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏)
- –£–¥–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –≤ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Windows (dev-—Ä–µ–∂–∏–º)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

Mail_Service-TG_Notifications/
‚îú‚îÄ‚îÄ app/                  # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ api/              # –†–æ—É—Ç–µ—Ä—ã FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ db/               # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models/           # SQLAlchemy-–º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas/          # Pydantic-—Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ tasks/            # Celery –∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã –∏ —ç–º—É–ª—è—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ celery_app.py     # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Celery
‚îÇ   ‚îú‚îÄ‚îÄ config.py         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ main.py           # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker Compose
‚îú‚îÄ‚îÄ Dockerfile            # Dockerfile
‚îú‚îÄ‚îÄ README.md             # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞


## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Windows, –±–µ–∑ Docker)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ Python 3.11+  
[–°–∫–∞—á–∞—Ç—å Python –¥–ª—è Windows](https://www.python.org/downloads/windows/)

### 2. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```sh
git clone https://github.com/Jeff555max/Mail_Service-TG_Notifications.git
cd Mail_Service-TG_Notifications
3. –°–æ–∑–¥–∞–π –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
sh
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
python -m venv .venv
.venv\Scripts\activate
4. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sh
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
pip install --upgrade pip
pip install -r requirements.txt
5. –ù–∞—Å—Ç—Ä–æ–π —Ñ–∞–π–ª .env
–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

ini
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/postgres
REDIS_BROKER_URL=redis://localhost:6379/0
–£–±–µ–¥–∏—Å—å, —á—Ç–æ PostgreSQL –∏ Redis –∑–∞–ø—É—â–µ–Ω—ã –Ω–∞ —Ç–≤–æ–µ–π –º–∞—à–∏–Ω–µ!

6. –ó–∞–ø—É—Å—Ç–∏ Redis
(—Å–∫–∞—á–∞–π redis –¥–ª—è Windows, —Ä–∞—Å–ø–∞–∫—É–π –∏ –∑–∞–ø—É—Å—Ç–∏ redis-server.exe)

7. –ó–∞–ø—É—Å—Ç–∏ FastAPI
sh
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
uvicorn app.main:app --reload
Swagger UI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://127.0.0.1:8000/docs

8. –ó–∞–ø—É—Å—Ç–∏ Celery worker
sh
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
celery -A app.celery_app.celery worker --loglevel=info --pool=solo
–î–ª—è production-—Ä–µ–∂–∏–º–∞ –∏–ª–∏ –Ω–∞ Linux –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π pool (gevent/prefork).

üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (Linux/macOS/WSL/Windows —Å Docker Desktop)
–í–∞–∂–Ω–æ: Docker –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞—Ç—å!

sh
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
docker compose up --build
–≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç —Å–µ—Ä–≤–∏—Å FastAPI, Celery worker, Redis –∏ PostgreSQL –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

Swagger UI: http://localhost:8000/docs

üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞:
black app/

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è:
flake8 app/

–¢–µ—Å—Ç—ã (–µ—Å–ª–∏ –ø–æ—è–≤—è—Ç—Å—è):
pytest

üìë –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ API
json
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
POST /api/campaigns/
{
  "title": "–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤",
  "text": "–°–∫–∏–¥–∫–∏ –Ω–∞ –≤—Å–µ —Ü–≤–µ—Ç—ã —Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è!",
  "users": [
    {"email": "user1@mail.com", "telegram_id": "12345"},
    {"email": "user2@mail.com"}
  ]
}
üèÜ –ê–≤—Ç–æ—Ä—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
–ï–≤–≥–µ–Ω–∏–π –ë–æ–≥–∞—á–µ–≤
Telegram: @JJJeFFF5
GitHub: Jeff555max

‚ö†Ô∏è –í–∞–∂–Ω–æ
–ù–∞ Windows –∑–∞–ø—É—Å–∫ Docker/Redis/Postgres –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!

–ù–∞ Windows Celery —Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å –ø—É–ª–æ–º --pool=solo –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

–î–ª—è production –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Å—ë —á–µ—Ä–µ–∑ Docker/–Ω–∞ Linux.





